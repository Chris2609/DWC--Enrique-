<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Alfil</title>
    <style>
        .dCasn {
            width: 50px;
            height: 50px;
            background-color: white;
        }

        .dCasb {
            width: 50px;
            height: 50px;
            background-color: orange;
        }

        td {
            border: 1px solid;
        }
		
		img{
			width: 100%;
			height: auto;
		}
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  
</head>
<script>

// utilizamos document.ready para confirmar que el html ha cargado correctamente y no ejecutar la funcion antes de que este generado, tambien se puede hacer con un setTimeout pero no seria tan preciso como document.ready
    $(document).ready( function(){
        
        // hacemos que al hacer click derecho no aparezca el menu contextual
        document.addEventListener("contextmenu", function (event) {
            event.preventDefault();
        });

        //aplicamos a los elemtnos con las clases .dCasn o .dCasb la siguiente funcion, utilizamos "mousedown" porque con click solo detecta el click izquierdo
        $(".dCasn, .dCasb").on("mousedown", function(event) {

            // en base a que click se ha hecho, se realziado un caso del switch, el click izquierdo = 1, medio = 2, derecho = 3
            switch (event.which) {
                case 1 :
                //se comprueba que no exista ya una imagen dentro del div pulsado
                if(!$(this).children("img").length){
                    // en caso de haber cumplido la condicion creamos una variable con el valor de una imagen mediante createElement y le asignamos el src la ruta de la imagen
                    var img = document.createElement("img");
                    img.src = "Caballo.png";

                    //utilizando appenchild agregamos la imagen al div pulsado
                    this.appendChild(img);
                }
                    break;
            
                case 2 :
                    if(!$(this).children("img").length){
                        var img = document.createElement("img");
                        img.src = "Reina.png";
                        this.appendChild(img);
                    }
                    break;

                case 3:
                    // obtenemos el valor de la imagen dentro del div pulsado
                    var img = $(this).children("img")[0];
                    // Si la variable ha obtenido un valor es que hay una imagen en el div, por lo que se elimina mediante removeChild
                    if (img) {
                        img.parentNode.removeChild(img);
                    }
                    break;
            }
        })
    }
)

</script>
<body>
    <table style=" border:1px solid black;margin-left:30px;margin-top:30px;border-collapse:collapse;">
        <tr>
            <td>
                <div class="dCasn" id="pos11"></div>
            </td>
            <td>
                <div class="dCasb" id="pos12"></div>
            </td>
            <td>
                <div class="dCasn" id="pos13"></div>
            </td>
            <td>
                <div class="dCasb" id="pos14"></div>
            </td>
            <td>
                <div class="dCasn" id="pos15"></div>
            </td>
            <td>
                <div class="dCasb" id="pos16"></div>
            </td>
            <td>
                <div class="dCasn" id="pos17"></div>
            </td>
            <td>
                <div class="dCasb" id="pos18"></div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="dCasb" id="pos21"></div>
            </td>
            <td>
                <div class="dCasn" id="pos22"></div>
            </td>
            <td>
                <div class="dCasb" id="pos23"></div>
            </td>
            <td>
                <div class="dCasn" id="pos24"></div>
            </td>
            <td>
                <div class="dCasb" id="pos25"></div>
            </td>
            <td>
                <div class="dCasn" id="pos26"></div>
            </td>
            <td>
                <div class="dCasb" id="pos27"></div>
            </td>
            <td>
                <div class="dCasn" id="pos28"></div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="dCasn" id="pos31"></div>
            </td>
            <td>
                <div class="dCasb" id="pos32"></div>
            </td>
            <td>
                <div class="dCasn" id="pos33"></div>
            </td>
            <td>
                <div class="dCasb" id="pos34"></div>
            </td>
            <td>
                <div class="dCasn" id="pos35"></div>
            </td>
            <td>
                <div class="dCasb" id="pos36"></div>
            </td>
            <td>
                <div class="dCasn" id="pos37"></div>
            </td>
            <td>
                <div class="dCasb" id="pos38"></div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="dCasb" id="pos41"></div>
            </td>
            <td>
                <div class="dCasn" id="pos42"></div>
            </td>
            <td>
                <div class="dCasb" id="pos43"></div>
            </td>
            <td>
                <div class="dCasn" id="pos44"></div>
            </td>
            <td>
                <div class="dCasb" id="pos45"></div>
            </td>
            <td>
                <div class="dCasn" id="pos46"></div>
            </td>
            <td>
                <div class="dCasb" id="pos47"></div>
            </td>
            <td>
                <div class="dCasn" id="pos48"></div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="dCasn" id="pos51"></div>
            </td>
            <td>
                <div class="dCasb" id="pos52"></div>
            </td>
            <td>
                <div class="dCasn" id="pos53"></div>
            </td>
            <td>
                <div class="dCasb" id="pos54"></div>
            </td>
            <td>
                <div class="dCasn" id="pos55"></div>
            </td>
            <td>
                <div class="dCasb" id="pos56"></div>
            </td>
            <td>
                <div class="dCasn" id="pos57"></div>
            </td>
            <td>
                <div class="dCasb" id="pos58"></div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="dCasb" id="pos61"></div>
            </td>
            <td>
                <div class="dCasn" id="pos62"></div>
            </td>
            <td>
                <div class="dCasb" id="pos63"></div>
            </td>
            <td>
                <div class="dCasn" id="pos64"></div>
            </td>
            <td>
                <div class="dCasb" id="pos65"></div>
            </td>
            <td>
                <div class="dCasn" id="pos66"></div>
            </td>
            <td>
                <div class="dCasb" id="pos67"></div>
            </td>
            <td>
                <div class="dCasn" id="pos68"></div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="dCasn" id="pos71"></div>
            </td>
            <td>
                <div class="dCasb" id="pos72"></div>
            </td>
            <td>
                <div class="dCasn" id="pos73"></div>
            </td>
            <td>
                <div class="dCasb" id="pos74"></div>
            </td>
            <td>
                <div class="dCasn" id="pos75"></div>
            </td>
            <td>
                <div class="dCasb" id="pos76"></div>
            </td>
            <td>
                <div class="dCasn" id="pos77"></div>
            </td>
            <td>
                <div class="dCasb" id="pos78"></div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="dCasb" id="pos81"></div>
            </td>
            <td>
                <div class="dCasn" id="pos82"></div>
            </td>
            <td>
                <div class="dCasb" id="pos83"></div>
            </td>
            <td>
                <div class="dCasn" id="pos84"></div>
            </td>
            <td>
                <div class="dCasb" id="pos85"></div>
            </td>
            <td>
                <div class="dCasn" id="pos86"></div>
            </td>
            <td>
                <div class="dCasb" id="pos87"></div>
            </td>
            <td>
                <div class="dCasn" id="pos88"></div>
            </td>
        </tr>
    </table>

</body>

</html>
